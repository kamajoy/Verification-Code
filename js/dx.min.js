(function(){var g=document.getElementById("TCaptchaDx");const e='<div class="dx-mark"><div id="dx-content"><div class="top"><div id="dx-refresh"></div><div id="dx-close"></div></div><p class="title">请依次点击文字：<span id="random-txt"></span></p><div id="random-img"></div></div></div>';var d=document.createElement("link");var i=document.createElement("div");d.href="css/index.css";d.rel="stylesheet";i.innerHTML=e;document.head.appendChild(d);document.body.appendChild(i);var a=document.getElementsByClassName("dx-mark")[0];var h=document.getElementById("dx-refresh");var k=document.getElementById("dx-close");var c=document.getElementById("random-img");h.onclick=function(){c.innerHTML="";b()};k.onclick=function(){a.classList.remove("block")};function b(){var m=[[{text:"以",left:54,right:108,top:112,bottom:143},{text:"验",left:206,right:255,top:48,bottom:102},{text:"风",left:132,right:172,top:198,bottom:239},{text:"凉",left:240,right:284,top:150,bottom:200}],[{text:"糊",left:63,right:101,top:150,bottom:200},{text:"吃",left:171,right:212,top:154,bottom:200},{text:"油",left:146,right:197,top:268,bottom:291},{text:"取",left:251,right:300,top:101,bottom:138}],[{text:"家",left:72,right:112,top:116,bottom:167},{text:"很",left:224,right:268,top:78,bottom:113},{text:"买",left:178,right:223,top:239,bottom:271}]];var n=document.getElementById("random-txt");var l=Math.round(Math.random()*2+1);if(sessionStorage.getItem("i")){if(l==sessionStorage.getItem("i")){if(l==3){l-=2}else{if(l==1){l++}else{if(l==2){l++}}}}}sessionStorage.setItem("i",l);c.style.backgroundImage="url(img/dx/0"+l+".png)";f(m,n,l,c)}function j(m,r){var l=m.slice(0),q=m.length,p=q-r,n,o;while(q-->p){o=Math.floor((q+1)*Math.random());n=l[o];l[o]=l[q];l[q]=n}return l.slice(p)}function f(r,m,s,q){var p=0;var l=[];var n=r[s-1].length;var v=Math.round(Math.random()*(n-2)+2);var t=r[s-1];var u=j(t,v);var o="";u.forEach(function(x,w){if(w==v-1){o+=x.text}else{o+=x.text+"、"}});m.innerText=o;q.onclick=function(y){if(p==0){var C=new Date().getTime();sessionStorage.setItem("start",C)}var x=document.getElementById("dx-content");var B=y||window.event;var A=y.clientX-q.offsetLeft;var z=y.clientY-q.offsetTop;var w=document.createElement("div");w.setAttribute("class","num");w.innerText=p+1;q.appendChild(w);w.style.left=A-w.offsetWidth/2+"px";w.style.top=z-w.offsetHeight/2+"px";p+=1;if(A<u[p-1].right&&A>u[p-1].left){if(z<u[p-1].bottom&&z>u[p-1].top){l.push(1)}else{l.push(2)}}else{l.push(2)}if(p>v-1){setTimeout(function(){if(l.indexOf(2)==-1){var D=new Date().getTime();console.log(D);var G=(D-sessionStorage.getItem("start"))/1000;G=G.toFixed(1);var F=document.createElement("div");if(G<=2&&G>0.5){F.innerHTML='<img src="img/success.png" alt="验证成功"><p class="text">验证成功</p><p id="time">只用了'+G+",这速度快如闪电</p>"}else{if(G<=5&&G>2){F.innerHTML='<img src="img/success.png" alt="验证成功"><p class="text">验证成功</p><p id="time">只用了'+G+"s,这速度简直完美</p>"}else{F.innerHTML='<img src="img/success.png" alt="验证成功"><p class="text">验证成功</p>'}}F.setAttribute("id","success");q.appendChild(F);setTimeout(function(){a.classList.remove("block");q.innerHTML="";p=0},2500)}else{var E=document.createElement("div");E.innerHTML="<span></span>验证失败，请按提示重新操作";E.setAttribute("id","dx-err");q.appendChild(E);setTimeout(function(){q.innerHTML="";b()},2500)}},10)}}}g.addEventListener("click",function(){a.classList.add("block");b()})})();